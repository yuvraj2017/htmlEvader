"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var chai_1 = require("chai");
var JSFuck_1 = require("../../../src/enums/JSFuck");
var Utils_1 = require("../../../src/utils/Utils");
describe('Utils', function () {
    describe('decToHex (dec: number): string', function () {
        describe('variant #1: number `0`', function () {
            var number = 0;
            var expectedHexString = '0';
            var hexString = void 0;
            before(function () {
                hexString = Utils_1.Utils.decToHex(number);
            });
            it('should create a string with hexadecimal value from a given decimal number', function () {
                chai_1.assert.equal(hexString, expectedHexString);
            });
        });
        describe('variant #2: number `10`', function () {
            var number = 10;
            var expectedHexString = 'a';
            var hexString = void 0;
            before(function () {
                hexString = Utils_1.Utils.decToHex(number);
            });
            it('should create a string with hexadecimal value from a given decimal number', function () {
                chai_1.assert.equal(hexString, expectedHexString);
            });
        });
        describe('variant #3: number `17`', function () {
            var number = 17;
            var expectedHexString = '11';
            var hexString = void 0;
            before(function () {
                hexString = Utils_1.Utils.decToHex(number);
            });
            it('should create a string with hexadecimal value from a given decimal number', function () {
                chai_1.assert.equal(hexString, expectedHexString);
            });
        });
        describe('variant #4: number `536870912`', function () {
            var number = 536870912;
            var expectedHexString = '20000000';
            var hexString = void 0;
            before(function () {
                hexString = Utils_1.Utils.decToHex(number);
            });
            it('should create a string with hexadecimal value from a given decimal number', function () {
                chai_1.assert.equal(hexString, expectedHexString);
            });
        });
    });
    describe('extractDomainFromUrl (url: string): string', function () {
        describe('variant #1: simple url', function () {
            var url = 'http://google.ru';
            var expectedDomain = 'google.ru';
            var domain = void 0;
            before(function () {
                domain = Utils_1.Utils.extractDomainFromUrl(url);
            });
            it('should extract domain from the given URL', function () {
                chai_1.assert.equal(domain, expectedDomain);
            });
        });
        describe('variant #2: url with `www` part', function () {
            var url = 'http://www.google.ru';
            var expectedDomain = 'www.google.ru';
            var domain = void 0;
            before(function () {
                domain = Utils_1.Utils.extractDomainFromUrl(url);
            });
            it('should extract domain from the given URL', function () {
                chai_1.assert.equal(domain, expectedDomain);
            });
        });
        describe('variant #3: url with `https` protocol and port', function () {
            var url = 'https://www.google.ru:9000';
            var expectedDomain = 'www.google.ru';
            var domain = void 0;
            before(function () {
                domain = Utils_1.Utils.extractDomainFromUrl(url);
            });
            it('should extract domain from the given URL', function () {
                chai_1.assert.equal(domain, expectedDomain);
            });
        });
        describe('variant #4: protocol-wide url and route', function () {
            var url = '//google.ru/abc';
            var expectedDomain = 'google.ru';
            var domain = void 0;
            before(function () {
                domain = Utils_1.Utils.extractDomainFromUrl(url);
            });
            it('should extract domain from the given URL', function () {
                chai_1.assert.equal(domain, expectedDomain);
            });
        });
        describe('variant #5: protocol-wide url, `localhost` and port', function () {
            var url = '//localhost:9000';
            var expectedDomain = 'localhost';
            var domain = void 0;
            before(function () {
                domain = Utils_1.Utils.extractDomainFromUrl(url);
            });
            it('should extract domain from the given URL', function () {
                chai_1.assert.equal(domain, expectedDomain);
            });
        });
    });
    describe('isCeilNumber (number: number): boolean', function () {
        describe('given number is a ceil', function () {
            var number = 4;
            var expectedResult = true;
            var result = void 0;
            before(function () {
                result = Utils_1.Utils.isCeilNumber(number);
            });
            it('should return true', function () {
                chai_1.assert.equal(result, expectedResult);
            });
        });
        describe('given number is a float', function () {
            var number = 4.5;
            var expectedResult = false;
            var result = void 0;
            before(function () {
                result = Utils_1.Utils.isCeilNumber(number);
            });
            it('should return false', function () {
                chai_1.assert.equal(result, expectedResult);
            });
        });
    });
    describe('stringRotate (string: string, times: number): string', function () {
        var string = 'abcdefg';
        var rotatedString = void 0;
        describe('value is not 0', function () {
            var rotateValue = 2;
            var expectedString = 'fgabcde';
            before(function () {
                rotatedString = Utils_1.Utils.stringRotate(string, rotateValue);
            });
            it('should rotate string by a given value', function () {
                chai_1.assert.deepEqual(rotatedString, expectedString);
            });
        });
        describe('value equals or less 0', function () {
            var rotateValue = 0;
            var expectedString = 'abcdefg';
            before(function () {
                rotatedString = Utils_1.Utils.stringRotate(string, rotateValue);
            });
            it('shouldn\'t rotate string', function () {
                chai_1.assert.deepEqual(rotatedString, expectedString);
            });
        });
        describe('empty array', function () {
            var emptyString = '';
            var rotateValue = 5;
            var expectedError = ReferenceError;
            var testFunc = void 0;
            before(function () {
                testFunc = function testFunc() {
                    return Utils_1.Utils.stringRotate(emptyString, rotateValue);
                };
            });
            it('should throw exception if string is empty', function () {
                chai_1.assert.throws(testFunc, expectedError);
            });
        });
    });
    describe('stringToJSFuck (string: string): string', function () {
        var string = 'string';
        var expectedString = JSFuck_1.JSFuck.s + " + " + JSFuck_1.JSFuck.t + " + " + JSFuck_1.JSFuck.r + " + " + JSFuck_1.JSFuck.i + " + " + JSFuck_1.JSFuck.n + " + " + JSFuck_1.JSFuck.g;
        var actualString = void 0;
        before(function () {
            actualString = Utils_1.Utils.stringToJSFuck(string);
        });
        it('should create a JSFuck encoded string from a given string', function () {
            chai_1.assert.equal(actualString, expectedString);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXRpbHMuc3BlYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Rlc3QvdW5pdC10ZXN0cy91dGlscy9VdGlscy5zcGVjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFCQUE4QjtBQUU5Qix1QkFBbUQ7QUFFbkQsc0JBQWlEO0FBRWpELEFBQVEsU0FBQyxBQUFPLFNBQUU7QUFDZCxBQUFRLGFBQUMsQUFBZ0Msa0NBQUU7QUFDdkMsQUFBUSxpQkFBQyxBQUF3QiwwQkFBRTtBQUMvQixnQkFBTSxBQUFNLFNBQVcsQUFBQyxBQUFDO0FBQ3pCLGdCQUFNLEFBQWlCLG9CQUFHLEFBQUcsQUFBQztBQUU5QixnQkFBSSxBQUFpQixBQUFDO0FBRXRCLEFBQU0sbUJBQUM7QUFDSCxBQUFTLDRCQUFHLFFBQUssTUFBQyxBQUFRLFNBQUMsQUFBTSxBQUFDLEFBQUMsQUFDdkM7QUFBQyxBQUFDLEFBQUM7QUFFSCxBQUFFLGVBQUMsQUFBMkUsNkVBQUU7QUFDNUUsdUJBQU0sT0FBQyxBQUFLLE1BQUMsQUFBUyxXQUFFLEFBQWlCLEFBQUMsQUFBQyxBQUMvQztBQUFDLEFBQUMsQUFBQyxBQUNQO0FBQUMsQUFBQyxBQUFDO0FBRUgsQUFBUSxpQkFBQyxBQUF5QiwyQkFBRTtBQUNoQyxnQkFBTSxBQUFNLFNBQVcsQUFBRSxBQUFDO0FBQzFCLGdCQUFNLEFBQWlCLG9CQUFHLEFBQUcsQUFBQztBQUU5QixnQkFBSSxBQUFpQixBQUFDO0FBRXRCLEFBQU0sbUJBQUM7QUFDSCxBQUFTLDRCQUFHLFFBQUssTUFBQyxBQUFRLFNBQUMsQUFBTSxBQUFDLEFBQUMsQUFDdkM7QUFBQyxBQUFDLEFBQUM7QUFFSCxBQUFFLGVBQUMsQUFBMkUsNkVBQUU7QUFDNUUsdUJBQU0sT0FBQyxBQUFLLE1BQUMsQUFBUyxXQUFFLEFBQWlCLEFBQUMsQUFBQyxBQUMvQztBQUFDLEFBQUMsQUFBQyxBQUNQO0FBQUMsQUFBQyxBQUFDO0FBRUgsQUFBUSxpQkFB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QUFBSyxNQUFDLEFBQVksY0FBRSxBQUFjLEFBQUMsQUFBQyxBQUMvQztBQUFDLEFBQUMsQUFBQyxBQUNQO0FBQUMsQUFBQyxBQUFDLEFBQ1A7QUFBQyxBQUFDLEFBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnQgfSBmcm9tICdjaGFpJztcblxuaW1wb3J0IHsgSlNGdWNrIH0gZnJvbSAnLi4vLi4vLi4vc3JjL2VudW1zL0pTRnVjayc7XG5cbmltcG9ydCB7IFV0aWxzIH0gZnJvbSAnLi4vLi4vLi4vc3JjL3V0aWxzL1V0aWxzJztcblxuZGVzY3JpYmUoJ1V0aWxzJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCdkZWNUb0hleCAoZGVjOiBudW1iZXIpOiBzdHJpbmcnLCAoKSA9PiB7XG4gICAgICAgIGRlc2NyaWJlKCd2YXJpYW50ICMxOiBudW1iZXIgYDBgJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbnVtYmVyOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRIZXhTdHJpbmcgPSAnMCc7XG5cbiAgICAgICAgICAgIGxldCBoZXhTdHJpbmc6IHN0cmluZztcblxuICAgICAgICAgICAgYmVmb3JlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBoZXhTdHJpbmcgPSBVdGlscy5kZWNUb0hleChudW1iZXIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgc3RyaW5nIHdpdGggaGV4YWRlY2ltYWwgdmFsdWUgZnJvbSBhIGdpdmVuIGRlY2ltYWwgbnVtYmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChoZXhTdHJpbmcsIGV4cGVjdGVkSGV4U3RyaW5nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBkZXNjcmliZSgndmFyaWFudCAjMjogbnVtYmVyIGAxMGAnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBudW1iZXI6IG51bWJlciA9IDEwO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRIZXhTdHJpbmcgPSAnYSc7XG5cbiAgICAgICAgICAgIGxldCBoZXhTdHJpbmc6IHN0cmluZztcblxuICAgICAgICAgICAgYmVmb3JlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBoZXhTdHJpbmcgPSBVdGlscy5kZWNUb0hleChudW1iZXIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgc3RyaW5nIHdpdGggaGV4YWRlY2ltYWwgdmFsdWUgZnJvbSBhIGdpdmVuIGRlY2ltYWwgbnVtYmVyJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChoZXhTdHJpbmcsIGV4cGVjdGVkSGV4U3RyaW5nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBkZXNjcmliZSgndmFyaWFudCAjMzogbnVtYmVyIGAxN2AnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBudW1iZXI6IG51bWJlciA9IDE3O1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRIZXhTdHJpbmcgPSAnMTEnO1xuXG4gICAgICAgICAgICBsZXQgaGV4U3RyaW5nOiBzdHJpbmc7XG5cbiAgICAgICAgICAgIGJlZm9yZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaGV4U3RyaW5nID0gVXRpbHMuZGVjVG9IZXgobnVtYmVyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhIHN0cmluZyB3aXRoIGhleGFkZWNpbWFsIHZhbHVlIGZyb20gYSBnaXZlbiBkZWNpbWFsIG51bWJlcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwoaGV4U3RyaW5nLCBleHBlY3RlZEhleFN0cmluZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVzY3JpYmUoJ3ZhcmlhbnQgIzQ6IG51bWJlciBgNTM2ODcwOTEyYCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG51bWJlcjogbnVtYmVyID0gNTM2ODcwOTEyO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRIZXhTdHJpbmcgPSAnMjAwMDAwMDAnO1xuXG4gICAgICAgICAgICBsZXQgaGV4U3RyaW5nOiBzdHJpbmc7XG5cbiAgICAgICAgICAgIGJlZm9yZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaGV4U3RyaW5nID0gVXRpbHMuZGVjVG9IZXgobnVtYmVyKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhIHN0cmluZyB3aXRoIGhleGFkZWNpbWFsIHZhbHVlIGZyb20gYSBnaXZlbiBkZWNpbWFsIG51bWJlcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwoaGV4U3RyaW5nLCBleHBlY3RlZEhleFN0cmluZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnZXh0cmFjdERvbWFpbkZyb21VcmwgKHVybDogc3RyaW5nKTogc3RyaW5nJywgKCkgPT4ge1xuICAgICAgICBkZXNjcmliZSgndmFyaWFudCAjMTogc2ltcGxlIHVybCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVybDogc3RyaW5nID0gJ2h0dHA6Ly9nb29nbGUucnUnO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWREb21haW46IHN0cmluZyA9ICdnb29nbGUucnUnO1xuXG4gICAgICAgICAgICBsZXQgZG9tYWluOiBzdHJpbmc7XG5cbiAgICAgICAgICAgIGJlZm9yZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9tYWluID0gVXRpbHMuZXh0cmFjdERvbWFpbkZyb21VcmwodXJsKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdCgnc2hvdWxkIGV4dHJhY3QgZG9tYWluIGZyb20gdGhlIGdpdmVuIFVSTCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwoZG9tYWluLCBleHBlY3RlZERvbWFpbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVzY3JpYmUoJ3ZhcmlhbnQgIzI6IHVybCB3aXRoIGB3d3dgIHBhcnQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cmw6IHN0cmluZyA9ICdodHRwOi8vd3d3Lmdvb2dsZS5ydSc7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZERvbWFpbjogc3RyaW5nID0gJ3d3dy5nb29nbGUucnUnO1xuXG4gICAgICAgICAgICBsZXQgZG9tYWluOiBzdHJpbmc7XG5cbiAgICAgICAgICAgIGJlZm9yZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9tYWluID0gVXRpbHMuZXh0cmFjdERvbWFpbkZyb21VcmwodXJsKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdCgnc2hvdWxkIGV4dHJhY3QgZG9tYWluIGZyb20gdGhlIGdpdmVuIFVSTCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwoZG9tYWluLCBleHBlY3RlZERvbWFpbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVzY3JpYmUoJ3ZhcmlhbnQgIzM6IHVybCB3aXRoIGBodHRwc2AgcHJvdG9jb2wgYW5kIHBvcnQnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cmw6IHN0cmluZyA9ICdodHRwczovL3d3dy5nb29nbGUucnU6OTAwMCc7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZERvbWFpbjogc3RyaW5nID0gJ3d3dy5nb29nbGUucnUnO1xuXG4gICAgICAgICAgICBsZXQgZG9tYWluOiBzdHJpbmc7XG5cbiAgICAgICAgICAgIGJlZm9yZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZG9tYWluID0gVXRpbHMuZXh0cmFjdERvbWFpbkZyb21VcmwodXJsKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdCgnc2hvdWxkIGV4dHJhY3QgZG9tYWluIGZyb20gdGhlIGdpdmVuIFVSTCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwoZG9tYWluLCBleHBlY3RlZERvbWFpbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVzY3JpYmUoJ3ZhcmlhbnQgIzQ6IHByb3RvY29sLXdpZGUgdXJsIGFuZCByb3V0ZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVybDogc3RyaW5nID0gJy8vZ29vZ2xlLnJ1L2FiYyc7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZERvbWFpbjogc3RyaW5nID0gJ2dvb2dsZS5ydSc7XG5cbiAgICAgICAgICAgIGxldCBkb21haW46IHN0cmluZztcblxuICAgICAgICAgICAgYmVmb3JlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBkb21haW4gPSBVdGlscy5leHRyYWN0RG9tYWluRnJvbVVybCh1cmwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KCdzaG91bGQgZXh0cmFjdCBkb21haW4gZnJvbSB0aGUgZ2l2ZW4gVVJMJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChkb21haW4sIGV4cGVjdGVkRG9tYWluKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBkZXNjcmliZSgndmFyaWFudCAjNTogcHJvdG9jb2wtd2lkZSB1cmwsIGBsb2NhbGhvc3RgIGFuZCBwb3J0JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXJsOiBzdHJpbmcgPSAnLy9sb2NhbGhvc3Q6OTAwMCc7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZERvbWFpbjogc3RyaW5nID0gJ2xvY2FsaG9zdCc7XG5cbiAgICAgICAgICAgIGxldCBkb21haW46IHN0cmluZztcblxuICAgICAgICAgICAgYmVmb3JlKCgpID0+IHtcbiAgICAgICAgICAgICAgICBkb21haW4gPSBVdGlscy5leHRyYWN0RG9tYWluRnJvbVVybCh1cmwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KCdzaG91bGQgZXh0cmFjdCBkb21haW4gZnJvbSB0aGUgZ2l2ZW4gVVJMJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChkb21haW4sIGV4cGVjdGVkRG9tYWluKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdpc0NlaWxOdW1iZXIgKG51bWJlcjogbnVtYmVyKTogYm9vbGVhbicsICgpID0+IHtcbiAgICAgICAgZGVzY3JpYmUoJ2dpdmVuIG51bWJlciBpcyBhIGNlaWwnLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBudW1iZXI6IG51bWJlciA9IDQ7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFJlc3VsdDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAgICAgICAgIGxldCByZXN1bHQ6IGJvb2xlYW47XG5cbiAgICAgICAgICAgIGJlZm9yZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gVXRpbHMuaXNDZWlsTnVtYmVyKG51bWJlcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0LCBleHBlY3RlZFJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVzY3JpYmUoJ2dpdmVuIG51bWJlciBpcyBhIGZsb2F0JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbnVtYmVyOiBudW1iZXIgPSA0LjU7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFJlc3VsdDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICBsZXQgcmVzdWx0OiBib29sZWFuO1xuXG4gICAgICAgICAgICBiZWZvcmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFV0aWxzLmlzQ2VpbE51bWJlcihudW1iZXIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydC5lcXVhbChyZXN1bHQsIGV4cGVjdGVkUmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdzdHJpbmdSb3RhdGUgKHN0cmluZzogc3RyaW5nLCB0aW1lczogbnVtYmVyKTogc3RyaW5nJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzdHJpbmc6IHN0cmluZyA9ICdhYmNkZWZnJztcblxuICAgICAgICBsZXQgcm90YXRlZFN0cmluZzogc3RyaW5nO1xuXG4gICAgICAgIGRlc2NyaWJlKCd2YWx1ZSBpcyBub3QgMCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0ZVZhbHVlOiBudW1iZXIgPSAyO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRTdHJpbmc6IHN0cmluZyA9ICdmZ2FiY2RlJztcblxuICAgICAgICAgICAgYmVmb3JlKCgpID0+IHtcbiAgICAgICAgICAgICAgICByb3RhdGVkU3RyaW5nID0gVXRpbHMuc3RyaW5nUm90YXRlKHN0cmluZywgcm90YXRlVmFsdWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGl0KCdzaG91bGQgcm90YXRlIHN0cmluZyBieSBhIGdpdmVuIHZhbHVlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydC5kZWVwRXF1YWwocm90YXRlZFN0cmluZywgZXhwZWN0ZWRTdHJpbmcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRlc2NyaWJlKCd2YWx1ZSBlcXVhbHMgb3IgbGVzcyAwJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm90YXRlVmFsdWU6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFN0cmluZzogc3RyaW5nID0gJ2FiY2RlZmcnO1xuXG4gICAgICAgICAgICBiZWZvcmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJvdGF0ZWRTdHJpbmcgPSBVdGlscy5zdHJpbmdSb3RhdGUoc3RyaW5nLCByb3RhdGVWYWx1ZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaXQoJ3Nob3VsZG5cXCd0IHJvdGF0ZSBzdHJpbmcnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0LmRlZXBFcXVhbChyb3RhdGVkU3RyaW5nLCBleHBlY3RlZFN0cmluZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGVzY3JpYmUoJ2VtcHR5IGFycmF5JywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW1wdHlTdHJpbmc6IHN0cmluZyA9ICcnO1xuICAgICAgICAgICAgY29uc3Qgcm90YXRlVmFsdWU6IG51bWJlciA9IDU7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZEVycm9yOiBSZWZlcmVuY2VFcnJvckNvbnN0cnVjdG9yID0gUmVmZXJlbmNlRXJyb3I7XG5cbiAgICAgICAgICAgIGxldCB0ZXN0RnVuYzogKCkgPT4gdm9pZCA7XG5cbiAgICAgICAgICAgIGJlZm9yZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGVzdEZ1bmMgPSAoKSA9PiBVdGlscy5zdHJpbmdSb3RhdGUoZW1wdHlTdHJpbmcsIHJvdGF0ZVZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpdCgnc2hvdWxkIHRocm93IGV4Y2VwdGlvbiBpZiBzdHJpbmcgaXMgZW1wdHknLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0LnRocm93cyh0ZXN0RnVuYywgZXhwZWN0ZWRFcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnc3RyaW5nVG9KU0Z1Y2sgKHN0cmluZzogc3RyaW5nKTogc3RyaW5nJywgKCkgPT4ge1xuICAgICAgICBjb25zdCBzdHJpbmc6IHN0cmluZyA9ICdzdHJpbmcnO1xuICAgICAgICBjb25zdCBleHBlY3RlZFN0cmluZzogc3RyaW5nID0gYCR7SlNGdWNrLnN9ICsgJHtKU0Z1Y2sudH0gKyAke0pTRnVjay5yfSArICR7SlNGdWNrLml9ICsgJHtKU0Z1Y2subn0gKyAke0pTRnVjay5nfWA7XG5cbiAgICAgICAgbGV0IGFjdHVhbFN0cmluZzogc3RyaW5nO1xuXG4gICAgICAgIGJlZm9yZSgoKSA9PiB7XG4gICAgICAgICAgICBhY3R1YWxTdHJpbmcgPSBVdGlscy5zdHJpbmdUb0pTRnVjayhzdHJpbmcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhIEpTRnVjayBlbmNvZGVkIHN0cmluZyBmcm9tIGEgZ2l2ZW4gc3RyaW5nJywgKCkgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0LmVxdWFsKGFjdHVhbFN0cmluZywgZXhwZWN0ZWRTdHJpbmcpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0pO1xuIl19