"use strict";

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = (function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } });

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var inversify_1 = require("inversify");
var ServiceIdentifiers_1 = require("../../container/ServiceIdentifiers");
var format = require("string-template");
var Initializable_1 = require("../../decorators/Initializable");
var StringArrayTemplate_1 = require("../../templates/custom-nodes/string-array-nodes/string-array-node/StringArrayTemplate");
var AbstractCustomNode_1 = require("../AbstractCustomNode");
var NodeUtils_1 = require("../../node/NodeUtils");
var StringArrayNode = function (_AbstractCustomNode_) {
    _inherits(StringArrayNode, _AbstractCustomNode_);

    function StringArrayNode(options) {
        _classCallCheck(this, StringArrayNode);

        return _possibleConstructorReturn(this, (StringArrayNode.__proto__ || Object.getPrototypeOf(StringArrayNode)).call(this, options));
    }

    _createClass(StringArrayNode, [{
        key: "initialize",
        value: function initialize(stringArrayStorage, stringArrayName, stringArrayRotateValue) {
            this.stringArrayStorage = stringArrayStorage;
            this.stringArrayName = stringArrayName;
            this.stringArrayRotateValue = stringArrayRotateValue;
        }
    }, {
        key: "getNode",
        value: function getNode() {
            this.stringArrayStorage.rotateArray(this.stringArrayRotateValue);
            return _get(StringArrayNode.prototype.__proto__ || Object.getPrototypeOf(StringArrayNode.prototype), "getNode", this).call(this);
        }
    }, {
        key: "getNodeStructure",
        value: function getNodeStructure() {
            return NodeUtils_1.NodeUtils.convertCodeToStructure(this.getTemplate());
        }
    }, {
        key: "getTemplate",
        value: function getTemplate() {
            return format(StringArrayTemplate_1.StringArrayTemplate(), {
                stringArrayName: this.stringArrayName,
                stringArray: this.stringArrayStorage.toString()
            });
        }
    }]);

    return StringArrayNode;
}(AbstractCustomNode_1.AbstractCustomNode);
tslib_1.__decorate([Initializable_1.initializable(), tslib_1.__metadata("design:type", Object)], StringArrayNode.prototype, "stringArrayStorage", void 0);
tslib_1.__decorate([Initializable_1.initializable(), tslib_1.__metadata("design:type", String)], StringArrayNode.prototype, "stringArrayName", void 0);
tslib_1.__decorate([Initializable_1.initializable(), tslib_1.__metadata("design:type", Number)], StringArrayNode.prototype, "stringArrayRotateValue", void 0);
StringArrayNode = tslib_1.__decorate([inversify_1.injectable(), tslib_1.__param(0, inversify_1.inject(ServiceIdentifiers_1.ServiceIdentifiers.IOptions)), tslib_1.__metadata("design:paramtypes", [Object])], StringArrayNode);
exports.StringArrayNode = StringArrayNode;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RyaW5nQXJyYXlOb2RlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2N1c3RvbS1ub2Rlcy9zdHJpbmctYXJyYXktbm9kZXMvU3RyaW5nQXJyYXlOb2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMEJBQStDO0FBQy9DLG1DQUF3RTtBQUV4RSxxQkFBMEM7QUFPMUMsOEJBQStEO0FBRS9ELG9DQUE0SDtBQUU1SCxtQ0FBMkQ7QUFDM0QsMEJBQWlEO0FBSWpEO0FBQUEsQUFBYSxBQUFlLEFBQUM7O0FBc0J6Qiw2QkFDeUMsQUFBaUI7QUFFdEQsQUFBSzs7aUlBQUMsQUFBTyxBQUFDLEFBQUMsQUFDbkI7QUFBQyxBQU9NLEFBQVU7Ozs7bUNBQ2IsQUFBcUMsb0JBQ3JDLEFBQXVCLGlCQUN2QixBQUE4QjtBQUU5QixBQUFJLGlCQUFDLEFBQWtCLHFCQUFHLEFBQWtCLEFBQUM7QUFDN0MsQUFBSSxpQkFBQyxBQUFlLGtCQUFHLEFBQWUsQUFBQztBQUN2QyxBQUFJLGlCQUFDLEFBQXNCLHlCQUFHLEFBQXNCLEFBQUMsQUFDekQ7QUFBQyxBQUtNLEFBQU87Ozs7QUFDVyxBQUFJLGlCQUFDLEFBQW1CLG1CQUFDLEFBQVcsWUFBQyxBQUFJLEtBQUMsQUFBc0IsQUFBQyxBQUFDO0FBRXZGLEFBQU0sQUFBQyxBQUFLLEFBQUMsQUFBTyxBQUFFLEFBQUMsQUFDM0I7QUFBQyxBQUtTLEFBQWdCOzs7O0FBQ3RCLEFBQU0sbUJBQUMsWUFBUyxVQUFDLEFBQXNCLHVCQUFDLEFBQUksS0FBQyxBQUFXLEFBQUUsQUFBQyxBQUFDLEFBQ2hFO0FBQUMsQUFLUyxBQUFXOzs7O0FBQ2pCLEFBQU0sMEJBQVEsc0JBQW1CLEFBQUU7QUFDL0IsQUFBZSxpQ0FBRSxBQUFJLEtBQUMsQUFBZTtBQUNyQyxBQUFXLDZCQUFFLEFBQUksS0FBQyxBQUFrQixtQkFBQyxBQUFRLEFBQUUsQUFDbEQsQUFBQyxBQUFDLEFBQ1A7QUFKeUMsYUFBOUIsQUFBTTtBQUloQixBQUNKOzs7O0VBcEVvQyxxQkFBa0I7QUFLbkQsb0JBREMsZ0JBQWEsQUFBRSxtSEFDOEI7QUFNOUMsb0JBREMsZ0JBQWEsQUFBRSxnSEFDZ0I7QUFNaEMsb0JBREMsZ0JBQWEsQUFBRSx1SEFDdUI7QUFqQjlCLEFBQWUsc0NBRDNCLFlBQVUsQUFBRSxjQXdCSixtQkFBQSxZQUFNLE9BQUMscUJBQWtCLG1CQUFDLEFBQVEsQUFBQyxnRUF2Qi9CLEFBQWUsQUFvRTNCO0FBcEVZLDBCQUFlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0YWJsZSwgaW5qZWN0IH0gZnJvbSAnaW52ZXJzaWZ5JztcbmltcG9ydCB7IFNlcnZpY2VJZGVudGlmaWVycyB9IGZyb20gJy4uLy4uL2NvbnRhaW5lci9TZXJ2aWNlSWRlbnRpZmllcnMnO1xuXG5pbXBvcnQgKiBhcyBmb3JtYXQgZnJvbSAnc3RyaW5nLXRlbXBsYXRlJztcblxuaW1wb3J0IHsgVFN0YXRlbWVudCB9IGZyb20gJy4uLy4uL3R5cGVzL25vZGUvVFN0YXRlbWVudCc7XG5cbmltcG9ydCB7IElPcHRpb25zIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9vcHRpb25zL0lPcHRpb25zJztcbmltcG9ydCB7IElTdG9yYWdlIH0gZnJvbSAnLi4vLi4vaW50ZXJmYWNlcy9zdG9yYWdlcy9JU3RvcmFnZSc7XG5cbmltcG9ydCB7IGluaXRpYWxpemFibGUgfSBmcm9tICcuLi8uLi9kZWNvcmF0b3JzL0luaXRpYWxpemFibGUnO1xuXG5pbXBvcnQgeyBTdHJpbmdBcnJheVRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vdGVtcGxhdGVzL2N1c3RvbS1ub2Rlcy9zdHJpbmctYXJyYXktbm9kZXMvc3RyaW5nLWFycmF5LW5vZGUvU3RyaW5nQXJyYXlUZW1wbGF0ZSc7XG5cbmltcG9ydCB7IEFic3RyYWN0Q3VzdG9tTm9kZSB9IGZyb20gJy4uL0Fic3RyYWN0Q3VzdG9tTm9kZSc7XG5pbXBvcnQgeyBOb2RlVXRpbHMgfSBmcm9tICcuLi8uLi9ub2RlL05vZGVVdGlscyc7XG5pbXBvcnQgeyBTdHJpbmdBcnJheVN0b3JhZ2UgfSBmcm9tICcuLi8uLi9zdG9yYWdlcy9zdHJpbmctYXJyYXkvU3RyaW5nQXJyYXlTdG9yYWdlJztcblxuQGluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFN0cmluZ0FycmF5Tm9kZSBleHRlbmRzIEFic3RyYWN0Q3VzdG9tTm9kZSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge0lTdG9yYWdlIDxzdHJpbmc+fVxuICAgICAqL1xuICAgIEBpbml0aWFsaXphYmxlKClcbiAgICBwcml2YXRlIHN0cmluZ0FycmF5U3RvcmFnZTogSVN0b3JhZ2UgPHN0cmluZz47XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIEBpbml0aWFsaXphYmxlKClcbiAgICBwcml2YXRlIHN0cmluZ0FycmF5TmFtZTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBAaW5pdGlhbGl6YWJsZSgpXG4gICAgcHJpdmF0ZSBzdHJpbmdBcnJheVJvdGF0ZVZhbHVlOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0lPcHRpb25zfSBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgKFxuICAgICAgICBAaW5qZWN0KFNlcnZpY2VJZGVudGlmaWVycy5JT3B0aW9ucykgb3B0aW9uczogSU9wdGlvbnNcbiAgICApIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtJU3RvcmFnZTxzdHJpbmc+fSBzdHJpbmdBcnJheVN0b3JhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nQXJyYXlOYW1lXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmluZ0FycmF5Um90YXRlVmFsdWVcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZSAoXG4gICAgICAgIHN0cmluZ0FycmF5U3RvcmFnZTogSVN0b3JhZ2UgPHN0cmluZz4sXG4gICAgICAgIHN0cmluZ0FycmF5TmFtZTogc3RyaW5nLFxuICAgICAgICBzdHJpbmdBcnJheVJvdGF0ZVZhbHVlOiBudW1iZXJcbiAgICApOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdHJpbmdBcnJheVN0b3JhZ2UgPSBzdHJpbmdBcnJheVN0b3JhZ2U7XG4gICAgICAgIHRoaXMuc3RyaW5nQXJyYXlOYW1lID0gc3RyaW5nQXJyYXlOYW1lO1xuICAgICAgICB0aGlzLnN0cmluZ0FycmF5Um90YXRlVmFsdWUgPSBzdHJpbmdBcnJheVJvdGF0ZVZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtUU3RhdGVtZW50W119XG4gICAgICovXG4gICAgcHVibGljIGdldE5vZGUgKCk6IFRTdGF0ZW1lbnRbXSB7XG4gICAgICAgICg8U3RyaW5nQXJyYXlTdG9yYWdlPnRoaXMuc3RyaW5nQXJyYXlTdG9yYWdlKS5yb3RhdGVBcnJheSh0aGlzLnN0cmluZ0FycmF5Um90YXRlVmFsdWUpO1xuXG4gICAgICAgIHJldHVybiBzdXBlci5nZXROb2RlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge1RTdGF0ZW1lbnRbXX1cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0Tm9kZVN0cnVjdHVyZSAoKTogVFN0YXRlbWVudFtdIHtcbiAgICAgICAgcmV0dXJuIE5vZGVVdGlscy5jb252ZXJ0Q29kZVRvU3RydWN0dXJlKHRoaXMuZ2V0VGVtcGxhdGUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0VGVtcGxhdGUgKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBmb3JtYXQoU3RyaW5nQXJyYXlUZW1wbGF0ZSgpLCB7XG4gICAgICAgICAgICBzdHJpbmdBcnJheU5hbWU6IHRoaXMuc3RyaW5nQXJyYXlOYW1lLFxuICAgICAgICAgICAgc3RyaW5nQXJyYXk6IHRoaXMuc3RyaW5nQXJyYXlTdG9yYWdlLnRvU3RyaW5nKClcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIl19