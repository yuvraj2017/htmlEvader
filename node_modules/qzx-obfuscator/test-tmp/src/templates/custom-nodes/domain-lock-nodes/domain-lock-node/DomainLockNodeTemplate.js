"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function DomainLockNodeTemplate() {
    return "\n        var {domainLockFunctionName} = {singleNodeCallControllerFunctionName}(this, function () {\n            var getGlobal = function () {\n                var globalObject;\n            \n                try {                     \n                    globalObject = Function('return (function() ' + '{}.constructor(\"return this\")( )' + ');')(); \n                } catch (e) { \n                    globalObject = window; \n                }\n                \n                return globalObject;\n            };\n            var that = getGlobal();\n            var func = function () { \n                return {\n                    key: 'item',\n                    value: 'attribute',\n                    getAttribute: function () {\n                        for (var i = 0; i < 1000; i--) {\n                            var isPositive = i > 0;\n                            \n                            switch (isPositive) {\n                                case true:\n                                    return this.item + '_' + this.value + '_' + i;\n                                default:\n                                    this.item + '_' + this.value;\n                            }\n                        }\n                    }()\n                };\n            };\n                        \n            var regExp = new RegExp(\"[{diff}]\", \"g\");\n            var domains = \"{domains}\".replace(regExp, \"\").split(\";\");\n            var document;\n            var domain;\n                        \n            for (var d in that) {\n                if (d.length == 8 && d.charCodeAt(7) == 116 && d.charCodeAt(5) == 101 && d.charCodeAt(3) == 117 && d.charCodeAt(0) == 100) {\n                    document = d;\n                \n                    break;\n                }\n            }\n\n            for (var d1 in that[document]) {\n                if (d1.length == 6 && d1.charCodeAt(5) == 110 && d1.charCodeAt(0) == 100) {\n                    domain = d1;\n                    \n                    break;\n                }\n            }\n            \n            if ((!document && !domain) || (!that[document] && !that[document][domain])) {\n                return;\n            }\n            \n            var currentDomain = that[document][domain];\n\n            var ok = false;\n                        \n            for (var i = 0; i < domains.length; i++) {\n                var domain = domains[i];\n                var position = currentDomain.length - domain.length;\n                var lastIndex = currentDomain.indexOf(domain, position);\n                var endsWith = lastIndex !== -1 && lastIndex === position;\n                \n                if (endsWith) {\n                    if (currentDomain.length == domain.length || domain.indexOf(\".\") === 0) {\n                        ok = true;\n                    }\n                    \n                    break;\n                }\n            }\n               \n            if (!ok) {\n                data;\n            } else {\n                return;\n            }\n            \n            func();\n        });\n\n        {domainLockFunctionName}();\n    ";
}
exports.DomainLockNodeTemplate = DomainLockNodeTemplate;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9tYWluTG9ja05vZGVUZW1wbGF0ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy90ZW1wbGF0ZXMvY3VzdG9tLW5vZGVzL2RvbWFpbi1sb2NrLW5vZGVzL2RvbWFpbi1sb2NrLW5vZGUvRG9tYWluTG9ja05vZGVUZW1wbGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFHQTtBQUNJLEFBQU0sQUFBQyxBQXVGTixBQUFDLEFBQ047QUFBQztBQXpGRCxpQ0F5RkMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEb21haW5Mb2NrTm9kZVRlbXBsYXRlICgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgXG4gICAgICAgIHZhciB7ZG9tYWluTG9ja0Z1bmN0aW9uTmFtZX0gPSB7c2luZ2xlTm9kZUNhbGxDb250cm9sbGVyRnVuY3Rpb25OYW1lfSh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZ2V0R2xvYmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBnbG9iYWxPYmplY3Q7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxPYmplY3QgPSBGdW5jdGlvbigncmV0dXJuIChmdW5jdGlvbigpICcgKyAne30uY29uc3RydWN0b3IoXCJyZXR1cm4gdGhpc1wiKSggKScgKyAnKTsnKSgpOyBcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWxPYmplY3QgPSB3aW5kb3c7IFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFsT2JqZWN0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gZ2V0R2xvYmFsKCk7XG4gICAgICAgICAgICB2YXIgZnVuYyA9IGZ1bmN0aW9uICgpIHsgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnaXRlbScsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnYXR0cmlidXRlJyxcbiAgICAgICAgICAgICAgICAgICAgZ2V0QXR0cmlidXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwMDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1Bvc2l0aXZlID0gaSA+IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpc1Bvc2l0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW0gKyAnXycgKyB0aGlzLnZhbHVlICsgJ18nICsgaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbSArICdfJyArIHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHJlZ0V4cCA9IG5ldyBSZWdFeHAoXCJbe2RpZmZ9XVwiLCBcImdcIik7XG4gICAgICAgICAgICB2YXIgZG9tYWlucyA9IFwie2RvbWFpbnN9XCIucmVwbGFjZShyZWdFeHAsIFwiXCIpLnNwbGl0KFwiO1wiKTtcbiAgICAgICAgICAgIHZhciBkb2N1bWVudDtcbiAgICAgICAgICAgIHZhciBkb21haW47XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAodmFyIGQgaW4gdGhhdCkge1xuICAgICAgICAgICAgICAgIGlmIChkLmxlbmd0aCA9PSA4ICYmIGQuY2hhckNvZGVBdCg3KSA9PSAxMTYgJiYgZC5jaGFyQ29kZUF0KDUpID09IDEwMSAmJiBkLmNoYXJDb2RlQXQoMykgPT0gMTE3ICYmIGQuY2hhckNvZGVBdCgwKSA9PSAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQgPSBkO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGQxIGluIHRoYXRbZG9jdW1lbnRdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGQxLmxlbmd0aCA9PSA2ICYmIGQxLmNoYXJDb2RlQXQoNSkgPT0gMTEwICYmIGQxLmNoYXJDb2RlQXQoMCkgPT0gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbiA9IGQxO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoKCFkb2N1bWVudCAmJiAhZG9tYWluKSB8fCAoIXRoYXRbZG9jdW1lbnRdICYmICF0aGF0W2RvY3VtZW50XVtkb21haW5dKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGN1cnJlbnREb21haW4gPSB0aGF0W2RvY3VtZW50XVtkb21haW5dO1xuXG4gICAgICAgICAgICB2YXIgb2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb21haW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9IGRvbWFpbnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gY3VycmVudERvbWFpbi5sZW5ndGggLSBkb21haW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBsYXN0SW5kZXggPSBjdXJyZW50RG9tYWluLmluZGV4T2YoZG9tYWluLCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdmFyIGVuZHNXaXRoID0gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChlbmRzV2l0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudERvbWFpbi5sZW5ndGggPT0gZG9tYWluLmxlbmd0aCB8fCBkb21haW4uaW5kZXhPZihcIi5cIikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICAgICAgZGF0YTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBmdW5jKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHtkb21haW5Mb2NrRnVuY3Rpb25OYW1lfSgpO1xuICAgIGA7XG59XG4iXX0=