"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var inversify_1 = require("inversify");
var ServiceIdentifiers_1 = require("../../ServiceIdentifiers");
var ControlFlowStorage_1 = require("../../../storages/control-flow/ControlFlowStorage");
var CustomNodeGroupStorage_1 = require("../../../storages/custom-node-group/CustomNodeGroupStorage");
var StringArrayStorage_1 = require("../../../storages/string-array/StringArrayStorage");
exports.storagesModule = new inversify_1.ContainerModule(function (bind) {
    bind(ServiceIdentifiers_1.ServiceIdentifiers.TCustomNodeGroupStorage).to(CustomNodeGroupStorage_1.CustomNodeGroupStorage).inSingletonScope();
    bind(ServiceIdentifiers_1.ServiceIdentifiers.TStringArrayStorage).to(StringArrayStorage_1.StringArrayStorage).inSingletonScope();
    bind(ServiceIdentifiers_1.ServiceIdentifiers.Newable__TControlFlowStorage).toConstructor(ControlFlowStorage_1.ControlFlowStorage);
    bind(ServiceIdentifiers_1.ServiceIdentifiers.Factory__TControlFlowStorage).toFactory(function (context) {
        return function () {
            var constructor = context.container.get(ServiceIdentifiers_1.ServiceIdentifiers.Newable__TControlFlowStorage);
            var randomGenerator = context.container.get(ServiceIdentifiers_1.ServiceIdentifiers.IRandomGenerator);
            return new constructor(randomGenerator);
        };
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RvcmFnZXNNb2R1bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvY29udGFpbmVyL21vZHVsZXMvc3RvcmFnZXMvU3RvcmFnZXNNb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMEJBQXdEO0FBQ3hELG1DQUE4RDtBQVE5RCxtQ0FBdUY7QUFDdkYsdUNBQW9HO0FBQ3BHLG1DQUF1RjtBQUUxRSxRQUFBLEFBQWMscUJBQW1DLFlBQWUsZ0JBQUMsVUFBQyxBQUFxQjtBQUVoRyxBQUFJLFNBQTBCLHFCQUFrQixtQkFBQyxBQUF1QixBQUFDLHlCQUNwRSxBQUFFLEdBQUMseUJBQXNCLEFBQUMsd0JBQzFCLEFBQWdCLEFBQUUsQUFBQztBQUV4QixBQUFJLFNBQXNCLHFCQUFrQixtQkFBQyxBQUFtQixBQUFDLHFCQUM1RCxBQUFFLEdBQUMscUJBQWtCLEFBQUMsb0JBQ3RCLEFBQWdCLEFBQUUsQUFBQztBQUV4QixBQUFJLFNBQTBDLHFCQUFrQixtQkFBQyxBQUE0QixBQUFDLDhCQUN6RixBQUFhLGNBQUMscUJBQWtCLEFBQUMsQUFBQztBQUd2QyxBQUFJLFNBQXNCLHFCQUFrQixtQkFBQyxBQUE0QixBQUFDLDhCQUNyRSxBQUFTLFVBQXNCLFVBQUMsQUFBMkI7QUFDeEQsQUFBTSxlQUFDO0FBQ0gsZ0JBQU0sQUFBVyxjQUE0QyxBQUFPLFFBQUMsQUFBUyxVQUN6RSxBQUFHLElBQTBDLHFCQUFrQixtQkFBQyxBQUE0QixBQUFDLEFBQUM7QUFDbkcsZ0JBQU0sQUFBZSxrQkFBcUIsQUFBTyxRQUFDLEFBQVMsVUFDdEQsQUFBRyxJQUFtQixxQkFBa0IsbUJBQUMsQUFBZ0IsQUFBQyxBQUFDO0FBRWhFLEFBQU0sbUJBQUMsSUFBSSxBQUFXLFlBQUMsQUFBZSxBQUFDLEFBQUMsQUFDNUM7QUFBQyxBQUFDLEFBQ047QUFBQyxBQUFDLEFBQUMsQUFDWDtBQUFDLEFBQUMsQUFBQyxDQXpCdUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250YWluZXJNb2R1bGUsIGludGVyZmFjZXMgfSBmcm9tICdpbnZlcnNpZnknO1xuaW1wb3J0IHsgU2VydmljZUlkZW50aWZpZXJzIH0gZnJvbSAnLi4vLi4vU2VydmljZUlkZW50aWZpZXJzJztcblxuaW1wb3J0IHsgVENvbnRyb2xGbG93U3RvcmFnZSB9IGZyb20gJy4uLy4uLy4uL3R5cGVzL3N0b3JhZ2VzL1RDb250cm9sRmxvd1N0b3JhZ2UnO1xuaW1wb3J0IHsgVEN1c3RvbU5vZGVHcm91cFN0b3JhZ2UgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9zdG9yYWdlcy9UQ3VzdG9tTm9kZUdyb3VwU3RvcmFnZSc7XG5pbXBvcnQgeyBUU3RyaW5nQXJyYXlTdG9yYWdlIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvc3RvcmFnZXMvVFN0cmluZ0FycmF5U3RvcmFnZSc7XG5cbmltcG9ydCB7IElSYW5kb21HZW5lcmF0b3IgfSBmcm9tICcuLi8uLi8uLi9pbnRlcmZhY2VzL3V0aWxzL0lSYW5kb21HZW5lcmF0b3InO1xuXG5pbXBvcnQgeyBDb250cm9sRmxvd1N0b3JhZ2UgfSBmcm9tICcuLi8uLi8uLi9zdG9yYWdlcy9jb250cm9sLWZsb3cvQ29udHJvbEZsb3dTdG9yYWdlJztcbmltcG9ydCB7IEN1c3RvbU5vZGVHcm91cFN0b3JhZ2UgfSBmcm9tICcuLi8uLi8uLi9zdG9yYWdlcy9jdXN0b20tbm9kZS1ncm91cC9DdXN0b21Ob2RlR3JvdXBTdG9yYWdlJztcbmltcG9ydCB7IFN0cmluZ0FycmF5U3RvcmFnZSB9IGZyb20gJy4uLy4uLy4uL3N0b3JhZ2VzL3N0cmluZy1hcnJheS9TdHJpbmdBcnJheVN0b3JhZ2UnO1xuXG5leHBvcnQgY29uc3Qgc3RvcmFnZXNNb2R1bGU6IGludGVyZmFjZXMuQ29udGFpbmVyTW9kdWxlID0gbmV3IENvbnRhaW5lck1vZHVsZSgoYmluZDogaW50ZXJmYWNlcy5CaW5kKSA9PiB7XG4gICAgLy8gc3RvcmFnZXNcbiAgICBiaW5kPFRDdXN0b21Ob2RlR3JvdXBTdG9yYWdlPihTZXJ2aWNlSWRlbnRpZmllcnMuVEN1c3RvbU5vZGVHcm91cFN0b3JhZ2UpXG4gICAgICAgIC50byhDdXN0b21Ob2RlR3JvdXBTdG9yYWdlKVxuICAgICAgICAuaW5TaW5nbGV0b25TY29wZSgpO1xuXG4gICAgYmluZDxUU3RyaW5nQXJyYXlTdG9yYWdlPihTZXJ2aWNlSWRlbnRpZmllcnMuVFN0cmluZ0FycmF5U3RvcmFnZSlcbiAgICAgICAgLnRvKFN0cmluZ0FycmF5U3RvcmFnZSlcbiAgICAgICAgLmluU2luZ2xldG9uU2NvcGUoKTtcblxuICAgIGJpbmQ8aW50ZXJmYWNlcy5OZXdhYmxlPFRDb250cm9sRmxvd1N0b3JhZ2U+PihTZXJ2aWNlSWRlbnRpZmllcnMuTmV3YWJsZV9fVENvbnRyb2xGbG93U3RvcmFnZSlcbiAgICAgICAgLnRvQ29uc3RydWN0b3IoQ29udHJvbEZsb3dTdG9yYWdlKTtcblxuICAgIC8vIGNvbnRyb2xGbG93U3RvcmFnZSBmYWN0b3J5XG4gICAgYmluZDxUQ29udHJvbEZsb3dTdG9yYWdlPihTZXJ2aWNlSWRlbnRpZmllcnMuRmFjdG9yeV9fVENvbnRyb2xGbG93U3RvcmFnZSlcbiAgICAgICAgLnRvRmFjdG9yeTxUQ29udHJvbEZsb3dTdG9yYWdlPigoY29udGV4dDogaW50ZXJmYWNlcy5Db250ZXh0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdG9yOiBpbnRlcmZhY2VzLk5ld2FibGU8VENvbnRyb2xGbG93U3RvcmFnZT4gPSBjb250ZXh0LmNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAuZ2V0PGludGVyZmFjZXMuTmV3YWJsZTxUQ29udHJvbEZsb3dTdG9yYWdlPj4oU2VydmljZUlkZW50aWZpZXJzLk5ld2FibGVfX1RDb250cm9sRmxvd1N0b3JhZ2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbUdlbmVyYXRvcjogSVJhbmRvbUdlbmVyYXRvciA9IGNvbnRleHQuY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIC5nZXQ8SVJhbmRvbUdlbmVyYXRvcj4oU2VydmljZUlkZW50aWZpZXJzLklSYW5kb21HZW5lcmF0b3IpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBjb25zdHJ1Y3RvcihyYW5kb21HZW5lcmF0b3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG59KTtcbiJdfQ==